{"version":3,"sources":["components/list.js","App.js","index.js"],"names":["UsersList","componentDidMount","axios","get","then","response","users","data","setState","catch","err","handleChange","e","user","target","value","handleMore","id","prevState","map","userId","Object","assign","showDetails","handleDelete","sentUser","delete","filter","alert","handleSubmit","preventDefault","formData","name","state","post","Date","User","CreateDate","Arn","UserName","UserId","className","this","length","trigger","type","position","htmlFor","onSubmit","addUser","onChange","role","key","onClick","React","Component","App","ReactDom","render","document","getElementById"],"mappings":"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","file":"static/js/main.b5a3e19d.chunk.js","sourcesContent":["import React from 'react'\r\nimport axios from 'axios'\r\nimport Popup from \"reactjs-popup\"\r\n\r\nclass UsersList extends React.Component{\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            users : [],\r\n            user: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        axios.get('https://z0a7zr6y84.execute-api.us-east-1.amazonaws.com/dev/users')\r\n            .then(response => {\r\n                const users = response.data\r\n                //console.log(users)\r\n                this.setState({users})\r\n            })\r\n            .catch((err) => {\r\n                //console.log(err)\r\n            })\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        this.setState({\r\n            user: e.target.value\r\n        })\r\n    }\r\n\r\n    handleMore = (id) => {\r\n        this.setState(prevState => {\r\n            return {\r\n                users: prevState.users.map(user => {\r\n                    if(user.userId === id){\r\n                        return Object.assign({}, user, {showDetails: !user.showDetails})\r\n                    } else {\r\n                        return Object.assign({}, user)\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    }\r\n    \r\n    handleDelete = (sentUser) => {\r\n        axios.delete(\"https://cors-anywhere.herokuapp.com/\" +'https://z0a7zr6y84.execute-api.us-east-1.amazonaws.com/dev/users',{data: sentUser})\r\n            .then((response) => {\r\n                //console.log(response.data)\r\n                this.setState((prevState) => {\r\n                    return {\r\n                        users: prevState.users.filter(user => user.userId !== sentUser.userId )\r\n                    }\r\n                }, () => {alert('user deleted successfully')})\r\n               \r\n            })\r\n            .catch((err) => {\r\n                //console.log(err)\r\n            })\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        const formData = {\r\n            name: this.state.user\r\n        }\r\n        axios.post(\"https://cors-anywhere.herokuapp.com/\" + 'https://z0a7zr6y84.execute-api.us-east-1.amazonaws.com/dev/users', formData)\r\n            .then((response) => {\r\n                //console.log(response.data)\r\n                const data = response.data\r\n                this.setState((prevState) => {\r\n                    return {\r\n                        users: [...prevState.users, {Date: data.User.CreateDate, Arn: data.User.CreateDate, name: data.User.UserName, userId: data.User.UserId}]\r\n                    } \r\n                })\r\n               axios.get('https://z0a7zr6y84.execute-api.us-east-1.amazonaws.com/dev/sync')\r\n               alert('User added successfully.')\r\n            })\r\n            .catch((err) => {\r\n                //console.log(err)\r\n            })\r\n    }\r\n    render(){\r\n        return (\r\n            <div className=\"col-12\">\r\n                <h1 className=\"display-4\"><strong>Listing {this.state.users.length} IAM Users</strong></h1>\r\n                        {/* Creation of user */}\r\n                        <Popup trigger={ <button type=\"button\" className=\"btn btn-info float-right\">Create User</button>} position=\"left center\">\r\n                            <label htmlFor = 'add'>Add user</label>\r\n                            <form onSubmit = {this.handleSubmit}>\r\n                                    <input type = 'text' id = 'add' value = {this.state.addUser} onChange = {this.handleChange}/>\r\n                            \r\n                                <input className=\"btn btn-primary\" type = 'submit' value = 'Create'/>\r\n                            </form>\r\n                        </Popup>\r\n                      \r\n\r\n                    {/* Users List */}\r\n                    <div className=\"col-8 clearfix\">\r\n                    {\r\n                        this.state.users.length === 0 ? \r\n                        <div className=\"spinner-border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </div> : (\r\n                            <ul className=\"list-group \">\r\n                                {\r\n                                    this.state.users.map(user => {\r\n                                        return (\r\n                                            user.showDetails ? (\r\n                                                <li className=\"list-group-item list-group-item-secondary\" key = {user.id}>\r\n                                                    {user.name}\r\n                                                    <div className=\"card\" >\r\n                                                    <div className=\"card-header\">\r\n                                                         Details\r\n                                                    </div>\r\n                                                    <ul className=\"list-group list-group-flush\">\r\n                                                        <li className=\"list-group-item\">Name: {user.name}</li>\r\n                                                        <li className=\"list-group-item\">User ID: {user.userId}</li>\r\n                                                        <li className=\"list-group-item\">Arn: {user.Arn}</li>\r\n                                                        <li className=\"list-group-item\">Created on: {user.Date}</li>\r\n                                                    </ul>\r\n                                                </div>\r\n                                                <button className=\"btn btn-danger float-right\" onClick = {() => {this.handleDelete(user)}}>Delete</button>\r\n                                                <button type=\"button\" className=\"btn btn-info float-right\" onClick = {() => {this.handleMore(user.userId)}}>Back</button>\r\n                                            </li>\r\n                                            \r\n                                        ) : (\r\n                                            <li className=\"list-group-item list-group-item-secondary\" key = {user.id}>\r\n                                                {user.name} \r\n                                                <button type=\"button\" className=\"btn btn-danger float-right\" onClick = {() => {this.handleDelete(user)}}>Delete</button>\r\n                                                <button type=\"button\" className=\"btn btn-info float-right\" onClick = {() => {this.handleMore(user.userId)}}>More</button> \r\n                                                \r\n                                            </li>\r\n                                        )\r\n                                    )\r\n                                })\r\n                            }\r\n                        </ul>\r\n                    )\r\n                }\r\n               \r\n                    </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default UsersList","import React from 'react'\r\nimport UsersList from './components/list'\r\n\r\nfunction App () {\r\n    return (\r\n            <div>\r\n                <UsersList/>\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDom from 'react-dom'\r\nimport App from './App'\r\nimport 'bootstrap/dist/css/bootstrap.css'\r\n\r\nReactDom.render(<App />, document.getElementById('root'))"],"sourceRoot":""}